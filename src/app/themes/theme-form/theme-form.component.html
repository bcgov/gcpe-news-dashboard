<nav id="theme-nav" class="navbar fixed-top navbar-expand-xs bg-primary navbar-light pt-0 pb-0">
  <div class="container-fluid">
    <div class="navbar-brand title mr-auto" id="site-title" >
      <h4>New Message</h4>
    </div>
    <ul class="navbar-nav navbar-right">
      <li *ngIf="!isNew || themeForm.dirty; else cancel" ngbDropdown class="nav-item my-auto">
        <a class="nav-link more-dropdown" role="button" ngbDropdownToggle aria-haspopup="true" aria-expanded="false">
          •••
        </a>
        <div aria-labelledby="navbarDropdown" ngbDropdownMenu>
          <ul class="list-inline">
            <li class="list-inline-item dropdown-item">
              <a href="#" (click.preventDefault)="save()">Save and Close</a>
            </li>
            <li class="list-inline-item dropdown-item">
              <a href="#" (click.preventDefault)="delete()">Delete</a>
            </li>
          </ul>
        </div>
      </li>
      <ng-template #cancel><li class="nav-item my-auto cancel-btn"><a href="#" (click.preventDefault)="close()" class="btn btn-link">Cancel</a></li></ng-template>
      <li class="nav-item my-auto ml-2">
        <button class="nav-link btn btn-publish" (click)="togglePublished()" [disabled]="themeForm.invalid" [class.publish]="!theme.isPublished">
          {{theme.isPublished ? 'Unpublish' : 'Publish'}}
        </button>
      </li>
    </ul>
  </div>
</nav>

<div id="admin-theme-form" class="row pl-0 pr-0 pt-5 mt-3">
  <div class="col-12">
    <form [formGroup]="themeForm">
      <div class="form-group row">
        <div class="form-check custom-control custom-checkbox col-sm-10 offset-sm-2">
          <input id="isHighlighted" type="checkbox" class="form-check-input custom-control-input" formControlName="isHighlighted" [attr.checked]="themeForm['isHighlighted']">
          <label for="isHighlighted" class="custom-control-label">In Focus</label>
        </div>
      </div>
      <div class="form-group row">
        <label for="title" class="col-sm-2 col-form-label text-right text-uppercase title-label" [class.hidden]="!themeForm.value.title">Title</label>
        <div class="col-sm-10">
          <textarea class="form-control" id="title" placeholder="Title" formControlName="title" autosize></textarea>
        </div>
      </div>
      <div class="form-group row">
        <label for="description" class="col-sm-2 col-form-label text-right text-uppercase description-label" [class.hidden]="!themeForm.value.description">Description</label>
        <div class="col-sm-10">
          <textarea class="form-control" id="description" placeholder="Short Description" formControlName="description" minHeight="250" autosize></textarea>
        </div>
      </div>
      <div class="text-right character-count mr-3" [style.color]="themeForm.get('description').invalid ? 'red' : ''">{{themeForm.value.description.length}}/4000 characters</div>
    </form>
  </div>
</div>
